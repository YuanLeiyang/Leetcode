### 204. è®¡æ•°è´¨æ•°

ç»™å®šæ•´æ•° n ï¼Œè¿”å› æ‰€æœ‰å°äºéè´Ÿæ•´æ•° n çš„è´¨æ•°çš„æ•°é‡ ã€‚

**è§£ç­”ï¼š**

**Leetcodeé«˜èµğŸ‘**

è¿™é¢˜æœåˆ°ä¸€ä¸ªéå¸¸ç‰›é€¼çš„ç®—æ³•,å«åšå„æ‹‰å¤šå¡ç­›æ³•. æ¯”å¦‚è¯´æ±‚20ä»¥å†…è´¨æ•°çš„ä¸ªæ•°,é¦–å…ˆ0,1ä¸æ˜¯è´¨æ•°.2æ˜¯ç¬¬ä¸€ä¸ªè´¨æ•°,ç„¶åæŠŠ20ä»¥å†…æ‰€æœ‰2çš„å€æ•°åˆ’å».2åé¢ç´§è·Ÿçš„æ•°å³ä¸ºä¸‹ä¸€ä¸ªè´¨æ•°3,ç„¶åæŠŠ3æ‰€æœ‰çš„å€æ•°åˆ’å».3åé¢ç´§è·Ÿçš„æ•°å³ä¸ºä¸‹ä¸€ä¸ªè´¨æ•°5,å†æŠŠ5æ‰€æœ‰çš„å€æ•°åˆ’å».ä»¥æ­¤ç±»æ¨.

ä»£ç çš„å®ç°ä¸Šç”¨äº†éå¸¸å¥½çš„æŠ€å·§:

```
// python
class Solution:
    def countPrimes(self, n: int) -> int:
        if n < 3:
            return 0     
        else:
            # é¦–å…ˆç”Ÿæˆäº†ä¸€ä¸ªå…¨éƒ¨ä¸º1çš„åˆ—è¡¨
            output = [1] * n
            # å› ä¸º0å’Œ1ä¸æ˜¯è´¨æ•°,æ‰€ä»¥åˆ—è¡¨çš„å‰ä¸¤ä¸ªä½ç½®èµ‹å€¼ä¸º0
            output[0],output[1] = 0,0
             # æ­¤æ—¶ä»index = 2å¼€å§‹éå†,output[2]==1,å³è¡¨æ˜ç¬¬ä¸€ä¸ªè´¨æ•°ä¸º2,ç„¶åå°†2çš„å€æ•°å¯¹åº”çš„ç´¢å¼•
             # å…¨éƒ¨èµ‹å€¼ä¸º0. æ­¤æ—¶output[3] == 1,å³è¡¨æ˜ä¸‹ä¸€ä¸ªè´¨æ•°ä¸º3,åŒæ ·åˆ’å»3çš„å€æ•°.ä»¥æ­¤ç±»æ¨.
            for i in range(2,int(n**0.5)+1): 
                if output[i] == 1:
                    output[i*i:n:i] = [0] * len(output[i*i:n:i])
         # æœ€åoutputä¸­çš„æ•°å­—1è¡¨æ˜è¯¥ä½ç½®ä¸Šçš„ç´¢å¼•æ•°ä¸ºè´¨æ•°,ç„¶åæ±‚å’Œå³å¯.
        return sum(output)

```

åœ¨ä¸Šé¢éå†ç´¢å¼•çš„æ—¶å€™ç”¨åˆ°äº†ä¸€ä¸ªéå¸¸å¥½çš„æŠ€å·§. å³iæ˜¯ä»(2,int(n***0.5)+1)è€Œé(2,n).è¿™ä¸ªæŠ€å·§æ˜¯å¯ä»¥éªŒè¯çš„,æ¯”å¦‚è¯´æ±‚9ä»¥å†…çš„è´¨æ•°ä¸ªæ•°,é‚£ä¹ˆåªè¦åˆ’æ‰sqrt(9)ä»¥å†…çš„è´¨æ•°å€æ•°,å‰©ä¸‹çš„å³å…¨ä¸ºè´¨æ•°. æ‰€ä»¥åœ¨åˆ’å»å€æ•°çš„æ—¶å€™ä¹Ÿæ˜¯ä»i*iå¼€å§‹åˆ’æ‰,è€Œä¸æ˜¯i+i.

è¿™ä¸ªè§£æ³•çœŸæ˜¯å¤ªèµäº†!åˆå­¦åˆ°äº†å¾ˆå¤š~~~ å’Œå¤§å®¶åˆ†äº«ä¸€ä¸‹

```
// java
class Solution {
    public int countPrimes(int n) {
        if (n < 3) {
            return 0;
        }
        int[] result = new int[n];
        Arrays.fill(result, 1);
        result[0] = 0;
        result[1] = 0;
        for (int i = 2; i < Math.sqrt(n); i++) {
            if (result[2] == 0) {
                continue;
            }
            for (int j = i * i; j < n; j += i) {
                result[j] = 0;
            }
        }
        return Arrays.stream(result).sum();
    }
}
```
